--BLOCO ANONIMO

DECLARE
X INTEGER;
Y INTEGER;
R INTEGER;
BEGIN
X := 15;
Y := 10;  
R := X+Y;
Dbms_Output.Put_Line('RESULTADO: '|| R); --COMANDO PARA EXIBIR O RESULTADO DA EQUAÇÃO
END;


DECLARE
VCIDADE VARCHAR(30) := 'SÃO PAULO';
VCOD_ALUNO TABELA_ALUNO.ID_ALUNO%TYPE := 5; --CRIA A VARIAVEL DO MESMO TIPO DO CAMPO ID_ALUNO
BEGIN
END;

DECLARE
VPRECO1 NUMBER(8,2) := 150;
VPRECO2 NUMBER(8,2) := 165;
VOPERACAO NUMBER(8,2) := VPRECO1 + VPRECO2;
VFLAG BOOLEAN;
BEGIN
VFLAG :=(VPRECO1 > VPRECO2);
IF(VFLAG = TRUE) THEN
Dbms_Output.PUT_LINE('PRECO 1 E MAIOR');
ELSE
Dbms_Output.PUT_LINE('PRECO 2 E MAIOR');
END IF;
--
IF((VOPERACAO /2) <= ((VPRECO2 + VPRECO1)/2)) THEN
Dbms_Output.Put_Line('OPERACAO CORRETA');
ELSE
Dbms_Output.Put_Line('OPERACAO INCORRETA');
END IF;
END;

--BIND VARIABLE --VARIÁVEL ETERNA, QUE FICA FORA DO CONTEXTO
VARIABLE VDESCONTO NUMBER

DECLARE
VID_ALUNO NUMBER := 1;
BEGIN
:VDESCONTO := 0.90;
Dbms_Output.Put_Line('DESCONTO 2: '||:VDESCONTO);

UPDATE *TABELA* SET
TOTAL = TOTAL + :VDESCONTO
WHERE ID_ALUNO = VID_ALUNO;
END;

--ALINHAMENTO
--UM BLOCO INTERNO ENXERGA AS VARIÁVEIS DOS BLOCOS EXTERNOS
--MAS UM BLOCO EXTERNO NAO ENXERGA A VARIAVEL DOS BLOCOS INTERNOS
--O BLOCO INTERNO É EXECUTADO ANTES DO EXTERNO

DECLARE
VVALOR1 VARCHAR(10) := 'ADDAM';
BEGIN

DECLARE
VVALOR1 VARCHAR(10) := 'THAINA';
BEGIN
Dbms_Output.Put_Line('BLOCO INTERNO: '||VVALOR1);
END;

Dbms_Output.Put_Line('BLOCO EXTERNO: '||VVALOR1);
END;

