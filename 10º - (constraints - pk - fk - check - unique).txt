SELECT * FROM user_constraints --constraints criadas pelo usuário
SELECT * FROM ALL_constraints --todas as constraints do banco
SELECT * FROM user_constraints WHERE TABLE_NAME = 'NOME_TABELA'--RETORNA CONSTRAINTS DE UMA TABELA
SELECT CONSTRAINT_NAME, COLUMN_NAME FROM USER_CONS_COLUMNS WHERE TABLE_NAME = 'NOME_TABELA' --RETORNA COLUNAS ESPECIFICAS
SELECT OBJECT_NAME, OBJECT_TYPE FROM USER_OBJECTS WHERE OBJECT_NAME IN ('NOME_TABELA') --RETORNA OS INDICES DA TABELA

--CRIANDO TABELAS E ASSOCIANDO DEPOIS DE CRIADAS--
CREATE TABLE *TABELA1*(
COD_CIDADE INTEGER NOT NULL
CONSTRAINT PK_CIDADE PRIMARY KEY(COD_CIDADE) --DECLARA QUE COD_CIDADE É PK (PK_CIDADE)
)

CREATE TABLE *TABELA2*(
COD_BAIRRO INTEGER NOT NULL,
COD_CIDADE INTEGER NOT NULL,
CONSTRAINT PK_BAIRRO PRIMARY KEY(COD_BAIRRO, COD_CIDADE) --DECLARA QUE COD_BAIRRO É PK (PK_BAIRRO), E O SEGUINTE SERÁ FK
)

ALTER TABLE *TABELA2* --ALTERANDO A TABELA QUE POSSUIRA A FK
ADD CONSTRAINT FK_COD_CIDADE --ADD FK NA TABELA2
FOREIGN KEY (COD_CIDADE) --IDENTIFICA A COLUNA DE REFERENCIA
REFERENCES *TABELA1*(COD_CIDADE) --REFERENCIANDO A TABELA1 E A PK

CREATE TABLE *TABELA3*(
COD_RUA INTEGER NOT NULL,
COD_BAIRRO INTEGER NOT NULL,
COD_CIDADE INTEGER NOT NULL,
CONSTRAINT PK_RUA PRIMARY KEY(COD_CIDADE)
)

ALTER TABLE *TABELA3*
ADD CONSTRAINT FK_BAIRRO_CIDADE --ADD FK NA TABELA3
FOREIGN KEY(COD_BAIRRO, COD_CIDADE) --DUAS FK'S ENCONTRADAS NA TABELA3
REFERENCES *TABELA2*(COD_BAIRRO, COD_CIDADE) --SE A TABELA FOI CRIADA COM DUAS PK'S (TABELA2), ENTÃO A REFERENCIA DEVE SEGUIR O MESMO PADRAO

CREATE TABLE *TABELA4*(
COD_PESSOA INTEGER NOT NULL, --PK
TIPO VARCHAR(1) NOT NULL, --CHECK --RECEBE UM VALOR 0 OU 1, OU CARACTERES TIPO 'A' OU 'B', 'C' OU 'D'
NOME VARCHAR(30) NOT NULL,
COD_RUA INTEGER NOT NULL, --FK
CPF VARCHAR2(15), --ESTE CAMPO SERÁ UNIQUE
VALOR INTEGER NOT NULL, --CHECK
CONSTRAINT PK_PESSOA PRIMARY KEY(COD_PESSOA)
)

ALTER TABLE *TABELA4* 
ADD CONSTRAINT UK_CPF 
UNIQUE(CPF) --DECLARA QUE O CPF SERÁ UM CAMPO UNIQUE (NÃO PODERÁ SER REPETIDO)

ALTER TABLE *TABELA4*
ADD CONSTRAINT FK_PESSOA_RUA
FOREIGN KEY(COD_RUA)
REFERENCES *TABELA*3 --NÃO É NECESSÁRIO INFORMAR QUAL CAMPO DEVE SE FAZER A REFERENCIA, POIS, CADA TABELA SÓ PODE POSSUIR UMA PK
--ESSA QUESTÃO SÓ PODERA GERAR ERRO CASO A TABELA REFERENCIADA NÃO POSSUIR NENHUMA PK, MAS POR PADRÃO, É RECOMENDADO INFORMAR A PK DE REFERENCIA

--CHECK
ALTER TABLE *TABELA4*
ADD CONSTRAINT CK_PESSOA_TIPO
CHECK (TIPO IN ('C','F')) --CONSTRAINT SÓ ACEITARÁ 'C' OU 'F' 

ALTER TABLE *TABELA4*
ADD CONSTRAINT CK_PESSOA_VALOR
CHECK (VALOR BETWEEN 0 AND 30)--CHECK QUE ACEITA VALORES DE 0 ATÉ 30 SOMENTE

ALTER TABLE *TABELA* DROP CONSTRAINT *NOME_CONSTRAINT* --APAGA CONSTRAINT DE QUALQUER TIPO, FK, CHECK, UNIQUE...

ALTER TABLE *TABELA* DROP CONSTRAINT *NOME_CONSTRAINT* CASCADE CONSTRAINT --UTILIZAR SOMENTE QUANDO TER CONSTRAINTS RELACIONADAS COM VÁRIAS TABELAS

ALTER TABLE *TABELA* DISABLE CONSTRAINT *NOME_CONSTRAINT* --DESABILITA CONSTRAINT
ALTER TABLE *TABELA* ENABLE CONSTRAINT *NOME_CONSTRAINT* --HABILITA CONSTRAINT
ALTER TABLE *TABELA* DROP CONSTRAINT *NOME_CONSTRAINT* --EXCLUI CONSTRAINT
---------------------------------------------------
